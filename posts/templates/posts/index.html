{% extends 'posts/base.html' %}


{% block content %}


	<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Climb List</title>
	</head>

	<body>

		<h1>Welcome,
			{% if request.user.is_authenticated %}
			{{ request.user.username }}
			{% else %}
			Guest
			{% endif %}
		</h1>

		<form action="{% url 'climbs:home' %}" method="POST">
			{% csrf_token %}
			
			<h2>Post Expeditions</h2>
			<hr>
			<label for="mountain">Mountain:</label>
			<input type="text" id="mountain" name="mountain">
			<label for="climb_date">Date:</label>
			<input type="date" id="climb_date" name="climb_date">
			<input type="submit" value="Post">

		</form>

		<h2>Posted</h2>
		
		<ul>

			{% for climb in climbs_incomplete %}
			<li>
				<span>{{ climb.mountain}} {{ climb.event_date }}</span>
				
				<a href="{% url 'climbs:delete' climb.id %}">
					<button>Delete</button>				
				</a>

				<a href="{% url 'climbs:toggle_complete' climb.id %}">
					<button>Complete</button>
				</a>
			</li>
			{% endfor %}

		</ul>

		<h2>Complete</h2>

		<ul>
			
			{% for climb in climbs_complete %}
			<li>
				<span>{{ climb.mountain}} {{ climb.event_date }}</span>

				<a href="{% url 'climbs:delete' climb.id %}">
					<button>Delete</button>				
				</a>

				<a href="{% url 'climbs:toggle_complete' climb.id %}">
					<button>Re-Post</button>
				</a>

			</li>
			{% endfor %}

		</ul>

	</body>
	</html>

{% endblock %}
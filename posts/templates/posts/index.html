<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Climb List</title>
</head>

<body>

	<nav>
		
		<h1>Climb List</h1>
		<div>

			{% if request.user.is_authenticated %}
			
            <a href="{% url 'users:logout' %}">Log Out</a>
			{% else %}
			
            <a href="{% url 'users:sign_up' %}">Sign Up</a>
			
            <a href="{% url 'users:login' %}">Log In</a>
			{% endif %}

		</div>
		
	</nav>

	<h1>Welcome to the Climb List,
		{% if request.user.is_authenticated %}
		{{ request.user.username }}
		{% else %}
		Guest
		{% endif %}
	</h1>

	<form action="{% url 'climbs:home' %}" method="POST">
		{% csrf_token %}
		
		<label for="mountain">Mountain:</label>
		<input type="text" id="mountain" name="mountain">
		<input type="submit" value="Add Mountain To List">

	</form>

	<h2>Posted</h2>
	
	<ul>

		{% for climb in climbs_incomplete %}
		<li>
			<span>{{ climb.mountain }}</span>
			
			<a href="{% url 'climbs:delete' climb.id %}">
				<button>Delete</button>				
			</a>

			<a href="{% url 'climbs:toggle_complete' climb.id %}">
				<button>Complete</button>
			</a>
		</li>
		{% endfor %}

	</ul>

	<h2>Complete</h2>

	<ul>
		
		{% for climb in climbs_complete %}
		<li>
			<span>{{ climb.mountain }}</span>

			<a href="{% url 'climbs:delete' climb.id %}">
				<button>Delete</button>				
			</a>

			<a href="{% url 'climbs:toggle_complete' climb.id %}">
				<button>Re-Post</button>
			</a>

		</li>
		{% endfor %}

	</ul>

</body>
</html>